# Chezmoi configuration template
# This file will be customized for each machine

[data]
    # Machine identification
    machine = "{{ .chezmoi.hostname }}"
    os = "{{ .chezmoi.os }}"
    arch = "{{ .chezmoi.arch }}"
    
    # Machine-specific settings
    {{ if eq .chezmoi.os "linux" }}
    # Linux-specific settings
    terminal = "wezterm"
    shell = "zsh"
    wm = "sway"
    editor = "micro"
    {{ else if eq .chezmoi.os "windows" }}
    # Windows-specific settings
    terminal = "wt"
    shell = "powershell"
    wm = "none"
    editor = "code"
    {{ end }}
    
    # User preferences
    username = "{{ .chezmoi.username }}"
    email = "{{ if eq .chezmoi.hostname "gnomon" }}linux@example.com{{ else }}windows@example.com{{ end }}"
    
    # Paths
    {{ if eq .chezmoi.os "linux" }}
    config_dir = "{{ .chezmoi.homeDir }}/.config"
    {{ else if eq .chezmoi.os "windows" }}
    config_dir = "{{ .chezmoi.homeDir }}/AppData/Roaming"
    {{ end }}
    
    # Waybar configuration - machine-specific settings
    {{ if eq .chezmoi.hostname "gnomon" }}
    # gnomon - Debian with Sway (exception)
    waybar_wm = "sway"
    waybar_modules_left = ["custom/run", "sway/workspaces", "custom/audio_idle_inhibitor"]
    waybar_modules_center = ["sway/window"]
    waybar_modules_right = ["custom/weather", "tray", "battery", "clock"]
    waybar_height = 24
    {{ else }}
    # Default - Arch Linux with Hyprland/Omarchy (TAWA and others)
    waybar_wm = "hyprland"
    waybar_modules_left = ["custom/omarchy", "hyprland/workspaces"]
    waybar_modules_center = ["clock", "custom/update", "custom/screenrecording-indicator"]
    waybar_modules_right = ["group/tray-expander", "bluetooth", "network", "pulseaudio", "cpu", "battery"]
    waybar_height = 26
    {{ end }}

[git]
    autocommit = true
    autopush = true
